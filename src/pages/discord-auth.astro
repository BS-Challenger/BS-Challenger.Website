---
import Layout from '../layouts/Layout.astro';
import Card from '../components/Card.astro';
import '../styles/styles.css';

const urlParams= new URLSearchParams(Astro.params);
const code = urlParams.get('code');

const token = Astro.cookies.get("token");

const userRes = await fetch("http://localhost:8081/discord-auth", {
    method: "POST",
    mode: "cors",
    cache: "no-cache",
    headers: {
        "Content-Type": "application/json",
        "Authorization": "Bearer " + token.value
    },
    body: JSON.stringify({
        discordOauthCode: code,
        discordRedirectURL: "http://localhost:8080/discord-auth"
    })
})
---

<Layout title="Profile">
    <main>
        <div class="container">
        </div>
    </main>
</Layout>

<style>
    .container
    {
        position: fixed;
        top: 50%;
        left: 50%;
        -webkit-transform: translate(-50%, -50%);
        transform: translate(-50%, -50%);
        min-width: 200px;
        width: 30%;
        height: 40%;
        background-color: #171717;
        box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.25);
        border-radius: 15px;
        display: flex;
        flex-direction: column;
        gap: 15px;
    }
</style>

<script>

</script>